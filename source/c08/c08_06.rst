8.6 【必学技巧 06】重构操作，一步到位
=====================================

|image0|

最近有一位同事走了，由我来接手他的全部工作。

可能由于我有代码洁癖，我花了一个星期对其代码进行了大量的重构。

重构代码，免不了要对变量进行重命名。

如果一个一个改，显然不太智能，要知道我们是在用IDE，你也许会说，用搜索全部替换不就行了？还真不行。

比如下面这段代码，我只想改myfun
里的的test_name，而对于全局下的同名变量是不应该修改的。如果你全局替换，就会有误伤。

|image1|

这时候，我们如何做呢？

可以使用 PyCharm 的 Refactor
功能，它会自动匹配作用域，既做到批量更改，也做到不误伤。

操作方法很简单，先选中你的变量，然后使用快捷键
Shift+F6，就可以直接重命名了。

|image2|

(GIF动态只播放两次，重播请刷新页面)

|image3|

.. |image0| image:: http://image.iswbm.com/20200804124133.png
.. |image1| image:: http://image.python-online.cn/20190629211910.png
.. |image2| image:: https://i.loli.net/2019/06/29/5d1764b94d11128912.gif
.. |image3| image:: http://image.iswbm.com/20200607174235.png

